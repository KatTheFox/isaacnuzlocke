--[[ Generated with https://github.com/TypeScriptToLua/TypeScriptToLua ]]
local ____exports = {}
local ____errors = require("errors")
local getUpgradeErrorMsg = ____errors.getUpgradeErrorMsg
local ____main = require("features.saveDataManager.main")
local saveDataManager = ____main.saveDataManager
local v, isActionTriggered
function isActionTriggered(self, _entity, _inputHook, buttonAction)
    if (buttonAction == ButtonAction.ACTION_DROP) and v.run.shouldSwitch then
        v.run.shouldSwitch = false
        return true
    end
    return nil
end
local FEATURE_NAME = "Forgotten switcher"
local initialized = false
v = {run = {shouldSwitch = false}}
function ____exports.init(self, mod)
    initialized = true
    saveDataManager(nil, "forgottenSwitch", v)
    mod:AddCallback(ModCallbacks.MC_INPUT_ACTION, isActionTriggered, InputHook.IS_ACTION_TRIGGERED)
end
function ____exports.forgottenSwitch(self)
    if not initialized then
        local msg = getUpgradeErrorMsg(nil, FEATURE_NAME)
        error(msg)
    end
    v.run.shouldSwitch = true
end
return ____exports
